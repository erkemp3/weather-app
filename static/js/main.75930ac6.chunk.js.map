{"version":3,"sources":["components/LocationDetails.js","components/ForecastSummary.js","components/ForecastSummaries.js","components/ForecastDetails.js","requests/getForecast.js","components/SearchForm.js","components/App.js","index.js"],"names":["LocationDetails","props","city","country","errorMessage","className","defaultProps","ForecastSummary","date","description","icon","temperature","onSelect","data-testid","moment","format","name","iconId","max","type","onClick","ForecastSummaries","forecasts","onForecastSelect","map","forecast","toString","ForecastDetails","humidity","wind","min","speed","direction","toUpperCase","getForecast","searchText","setSelectedDate","setForecasts","setLocation","setErrorMessage","endpoint","axios","get","then","response","data","location","catch","error","status","console","SearchForm","setSearchText","onSubmit","onChange","event","target","value","App","useState","selectedDate","selectedForecast","find","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.75930ac6.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst LocationDetails = (props) => {\n  const { city, country, errorMessage } = props;\n  return errorMessage ? (\n    <h1 className=\"error-message\">{errorMessage}</h1>\n  ) : (\n    <h1 className=\"location-details\">{`${city}, ${country} ðŸ‡¬ðŸ‡§`}</h1>\n  );\n};\n\nLocationDetails.propTypes = {\n  city: PropTypes.string.isRequired,\n  country: PropTypes.string.isRequired,\n  errorMessage: PropTypes.string,\n};\n\nLocationDetails.defaultProps = {\n  errorMessage: \"\",\n};\n\nexport default LocationDetails;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport WeatherIcon from \"react-icons-weather\";\nimport moment from \"moment\";\n\nconst ForecastSummary = (props) => {\n  const { date, description, icon, temperature, onSelect } = props;\n\n  return (\n    <div className=\"forecast-summary\" data-testid=\"forecast-summary\">\n      <div className=\"forecast-summary__date\">\n        {moment(date).format(\"ddd Do MMM\")}\n      </div>\n      <div className=\"forecast-summary__icon\" data-testid=\"forecast-icon\">\n        <WeatherIcon name=\"owm\" iconId={icon} />\n      </div>\n      <div className=\"forecast-summary__temperature\">\n        {temperature.max}\n        &deg;C\n      </div>\n      <div className=\"forecast-summary__description\">{description}</div>\n      <button type=\"button\" onClick={() => onSelect(date)}>\n        More details\n      </button>\n    </div>\n  );\n};\n\nexport default ForecastSummary;\n\nForecastSummary.propTypes = {\n  date: PropTypes.number.isRequired,\n  description: PropTypes.string.isRequired,\n  icon: PropTypes.string.isRequired,\n  temperature: PropTypes.shape({\n    min: PropTypes.number,\n    max: PropTypes.number,\n  }).isRequired,\n  onSelect: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ForecastSummary from \"./ForecastSummary\";\nimport \"../styles/ForecastSummaries.css\";\n\nconst ForecastSummaries = ({ forecasts, onForecastSelect }) => (\n  <div className=\"forecast-summaries\">\n    {forecasts.map((forecast) => (\n      <ForecastSummary\n        key={forecast.date}\n        date={forecast.date}\n        description={forecast.description}\n        icon={forecast.icon.toString()}\n        onSelect={onForecastSelect}\n        temperature={forecast.temperature}\n      />\n    ))}\n  </div>\n);\n\nForecastSummaries.propTypes = {\n  forecasts: PropTypes.arrayOf(\n    PropTypes.shape({\n      date: PropTypes.number.isRequired,\n      description: PropTypes.string.isRequired,\n      icon: PropTypes.number.isRequired,\n      temperature: PropTypes.shape({\n        min: PropTypes.number,\n        max: PropTypes.number,\n      }).isRequired,\n    })\n  ).isRequired,\n  onForecastSelect: PropTypes.func.isRequired,\n};\n\nexport default ForecastSummaries;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport moment from \"moment\";\n\nconst ForecastDetails = ({ forecast }) => {\n  const { date, temperature, humidity, wind } = forecast;\n\n  return (\n    <div className=\"forecast-details\" data-testid=\"forecast-details\">\n      <div className=\"forecast-details__date\">\n        {moment(date).format(\"dddd Do MMMM yyyy\")}\n      </div>\n      <div className=\"forecast-details__temperature\">\n        {`Max temp: ${temperature.max}`}&deg;C\n      </div>\n      <div className=\"forecast-details__temperature\">\n        {`Min temp: ${temperature.min}`}&deg;C\n      </div>\n      <div className=\"forecast-details__humidity\">Humidity: {humidity}%</div>\n      <div className=\"forecast-details__wind\">Wind speed: {wind.speed}mph</div>\n      <div className=\"forecast-details__direction\">\n        Wind direction: {wind.direction.toUpperCase()}\n      </div>\n    </div>\n  );\n};\n\nexport default ForecastDetails;\n\nForecastDetails.propTypes = {\n  forecast: PropTypes.shape({\n    date: PropTypes.number.isRequired,\n    humidity: PropTypes.number.isRequired,\n    temperature: PropTypes.shape({\n      min: PropTypes.number,\n      max: PropTypes.number,\n    }).isRequired,\n    wind: PropTypes.shape({\n      speed: PropTypes.number,\n      direction: PropTypes.string,\n    }).isRequired,\n  }).isRequired,\n};\n","/* eslint-disable no-console */\n\nimport axios from \"axios\";\n\nconst getForecast = (\n  searchText,\n  setSelectedDate,\n  setForecasts,\n  setLocation,\n  setErrorMessage\n) => {\n  let endpoint = \"https://mcr-codes-weather-app.herokuapp.com/forecast\";\n\n  if (searchText) {\n    endpoint += `?city=${searchText}`;\n  }\n\n  return axios\n    .get(endpoint)\n    .then((response) => {\n      setSelectedDate(response.data.forecasts[0].date);\n      setForecasts(response.data.forecasts);\n      setLocation(response.data.location);\n      setErrorMessage();\n    })\n    .catch((error) => {\n      const { status } = error.response;\n      if (status === 404) {\n        setErrorMessage(\n          \"UK cities only - please check your spelling and try againðŸ˜Š\"\n        );\n        console.error(\"Location is not valid\", error);\n      }\n      if (status === 500) {\n        setErrorMessage(\"Oops, server error, try again later.\");\n        console.error(\"Server error\", error);\n      }\n    });\n};\n\nexport default getForecast;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst SearchForm = ({ searchText, setSearchText, onSubmit }) => {\n  const handleInputChange = (event) => setSearchText(event.target.value);\n\n  return (\n    <div className=\"search-form\">\n      <input type=\"text\" onChange={handleInputChange} value={searchText} />\n      <button type=\"submit\" onClick={onSubmit} className=\"search-form__button\">\n        Search\n      </button>\n    </div>\n  );\n};\n\nexport default SearchForm;\n\nSearchForm.propTypes = {\n  searchText: PropTypes.string.isRequired,\n  setSearchText: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React, { useEffect, useState } from \"react\";\nimport LocationDetails from \"./LocationDetails\";\nimport ForecastSummaries from \"./ForecastSummaries\";\nimport ForecastDetails from \"./ForecastDetails\";\nimport getForecast from \"../requests/getForecast\";\nimport SearchForm from \"./SearchForm\";\nimport \"../styles/App.css\";\n\nconst App = () => {\n  const [forecasts, setForecasts] = useState([]);\n  const [location, setLocation] = useState({ city: \"\", country: \"\" });\n  const [selectedDate, setSelectedDate] = useState(0);\n  const [searchText, setSearchText] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const selectedForecast = forecasts.find(\n    (forecast) => forecast.date === selectedDate\n  );\n\n  const handleForecastSelect = (date) => {\n    setSelectedDate(date);\n  };\n\n  const handleCitySearch = () => {\n    getForecast(\n      searchText,\n      setSelectedDate,\n      setForecasts,\n      setLocation,\n      setErrorMessage\n    );\n  };\n\n  useEffect(() => {\n    getForecast(\n      searchText,\n      setSelectedDate,\n      setForecasts,\n      setLocation,\n      setErrorMessage\n    );\n  }, []);\n\n  return (\n    <div className=\"weather-app\">\n      <LocationDetails\n        city={location.city}\n        country={location.country}\n        errorMessage={errorMessage}\n      />\n      <SearchForm\n        searchText={searchText}\n        setSearchText={setSearchText}\n        onSubmit={handleCitySearch}\n      />\n      {!errorMessage && (\n        <>\n          <ForecastSummaries\n            forecasts={forecasts}\n            onForecastSelect={handleForecastSelect}\n          />\n          {selectedForecast && <ForecastDetails forecast={selectedForecast} />}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./styles/index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}